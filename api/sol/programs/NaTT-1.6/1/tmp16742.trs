(VAR X Y U W P V X1 Y1 U1 V1 W1 P1 F2 Z2 U2 V2 I2 J2 X3 Y3 G3 V3 W3 J3 X4 Y4 )
(RULES
  btimes(X,bplus(Y,U)) -> bplus(btimes(X,Y),btimes(X,U))
  btimes(bplus(W,P),V) -> bplus(btimes(V,W),btimes(V,P))
  btimes(btimes(X1,Y1),U1) -> btimes(X1,btimes(Y1,U1))
  bplus(bplus(V1,W1),P1) -> bplus(V1,bplus(W1,P1))
  map(F2,nil) -> nil
  map(Z2,cons(U2,V2)) -> cons(Z2[U2],map(Z2,V2))
  filter(I2,nil) -> nil
  filter(J2,cons(X3,Y3)) -> filter2(J2[X3],J2,X3,Y3)
  filter2(true,G3,V3,W3) -> cons(V3,filter(G3,W3))
  filter2(false,J3,X4,Y4) -> filter(J3,Y4))