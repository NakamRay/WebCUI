(VAR X Y U V W P X1 Y1 U1 V1 W1 P1 X2 Y2 U2 V2 W2 P2 X3 Y3 U3 V3 W3 P3 X4 Y4 U4 V4 W4 P4 X5 Y5 U5 V5 W5 P5 X6 Y6 U6 V6 W6 P6 X7 Y7 U7 V7 W7 P7 X8 Y8 U8 V8 W8 P8 X9 Y9 U9 V9 W9 P9 X10 Y10 U10 V10 W10 P10 X11 Y11 U11 V11 W11 P11 X12 Y12 U12 V12 W12 P12 X13 Y13 U13 V13 W13 P13 X14 Y14 U14 V14 W14 P14 X15 Y15 U15 V15 W15 P15 X16 Y16 U16 V16 W16 P16 X17 Y17 U17 V17 W17 P17 X18 Y18 U18 V18 W18 P18 X19 Y19 U19 V19 W19 P19 X20 Y20 U20 V20 W20 P20 X21 Y21 U21 V21 W21 P21 X22 Y22 U22 V22 W22 P22 X23 Y23 U23 V23 W23 P23 X24 Y24 U24 V24 W24 P24 X25 Y25 U25 V25 W25 P25 X26 Y26 U26 V26 W26 P26 X27 Y27 U27 V27 W27 P27 X28 Y28 U28 V28 W28 P28 X29 Y29 U29 V29 I29 J29 X30 Y30 G30 V30 )
(RULES
  axxu11(tt,X,Y) -> axxu12(tt,X,Y)
  axxu12(tt,U,V) -> axxsnd(axxsplitAt(mark(U),mark(V)))
  axxu21(tt,W) -> axxu22(tt,W)
  axxu22(tt,P) -> mark(P)
  axxu31(tt,X1) -> axxu32(tt,X1)
  axxu32(tt,Y1) -> mark(Y1)
  axxu41(tt,U1,V1) -> axxu42(tt,U1,V1)
  axxu42(tt,W1,P1) -> axxhead(axxafterNth(mark(W1),mark(P1)))
  axxu51(tt,X2) -> axxu52(tt,X2)
  axxu52(tt,Y2) -> mark(Y2)
  axxu61(tt,U2,V2,W2) -> axxu62(tt,U2,V2,W2)
  axxu62(tt,P2,X3,Y3) -> axxu63(tt,P2,X3,Y3)
  axxu63(tt,U3,V3,W3) -> axxu64(axxsplitAt(mark(U3),mark(W3)),V3)
  axxu64(pair(P3,X4),Y4) -> pair(cons(mark(Y4),P3),mark(X4))
  axxu71(tt,U4) -> axxu72(tt,U4)
  axxu72(tt,V4) -> mark(V4)
  axxu81(tt,W4,P4) -> axxu82(tt,W4,P4)
  axxu82(tt,X5,Y5) -> axxfst(axxsplitAt(mark(X5),mark(Y5)))
  axxafterNth(U5,V5) -> axxu11(tt,U5,V5)
  axxfst(pair(W5,P5)) -> axxu21(tt,W5)
  axxhead(cons(X6,Y6)) -> axxu31(tt,X6)
  axxnatsFrom(U6) -> cons(mark(U6),natsFrom(s(U6)))
  axxsel(V6,W6) -> axxu41(tt,V6,W6)
  axxsnd(pair(P6,X7)) -> axxu51(tt,X7)
  axxsplitAt(0,Y7) -> pair(nil,mark(Y7))
  axxsplitAt(s(U7),cons(V7,W7)) -> axxu61(tt,U7,V7,W7)
  axxtail(cons(P7,X8)) -> axxu71(tt,X8)
  axxtake(Y8,U8) -> axxu81(tt,Y8,U8)
  mark(u11(V8,W8,P8)) -> axxu11(mark(V8),W8,P8)
  mark(u12(X9,Y9,U9)) -> axxu12(mark(X9),Y9,U9)
  mark(snd(V9)) -> axxsnd(mark(V9))
  mark(splitAt(W9,P9)) -> axxsplitAt(mark(W9),mark(P9))
  mark(u21(X10,Y10)) -> axxu21(mark(X10),Y10)
  mark(u22(U10,V10)) -> axxu22(mark(U10),V10)
  mark(u31(W10,P10)) -> axxu31(mark(W10),P10)
  mark(u32(X11,Y11)) -> axxu32(mark(X11),Y11)
  mark(u41(U11,V11,W11)) -> axxu41(mark(U11),V11,W11)
  mark(u42(P11,X12,Y12)) -> axxu42(mark(P11),X12,Y12)
  mark(head(U12)) -> axxhead(mark(U12))
  mark(afterNth(V12,W12)) -> axxafterNth(mark(V12),mark(W12))
  mark(u51(P12,X13)) -> axxu51(mark(P12),X13)
  mark(u52(Y13,U13)) -> axxu52(mark(Y13),U13)
  mark(u61(V13,W13,P13,X14)) -> axxu61(mark(V13),W13,P13,X14)
  mark(u62(Y14,U14,V14,W14)) -> axxu62(mark(Y14),U14,V14,W14)
  mark(u63(P14,X15,Y15,U15)) -> axxu63(mark(P14),X15,Y15,U15)
  mark(u64(V15,W15)) -> axxu64(mark(V15),W15)
  mark(u71(P15,X16)) -> axxu71(mark(P15),X16)
  mark(u72(Y16,U16)) -> axxu72(mark(Y16),U16)
  mark(u81(V16,W16,P16)) -> axxu81(mark(V16),W16,P16)
  mark(u82(X17,Y17,U17)) -> axxu82(mark(X17),Y17,U17)
  mark(fst(V17)) -> axxfst(mark(V17))
  mark(natsFrom(W17)) -> axxnatsFrom(mark(W17))
  mark(sel(P17,X18)) -> axxsel(mark(P17),mark(X18))
  mark(tail(Y18)) -> axxtail(mark(Y18))
  mark(take(U18,V18)) -> axxtake(mark(U18),mark(V18))
  mark(tt) -> tt
  mark(pair(W18,P18)) -> pair(mark(W18),mark(P18))
  mark(cons(X19,Y19)) -> cons(mark(X19),Y19)
  mark(s(U19)) -> s(mark(U19))
  mark(0) -> 0
  mark(nil) -> nil
  axxu11(V19,W19,P19) -> u11(V19,W19,P19)
  axxu12(X20,Y20,U20) -> u12(X20,Y20,U20)
  axxsnd(V20) -> snd(V20)
  axxsplitAt(W20,P20) -> splitAt(W20,P20)
  axxu21(X21,Y21) -> u21(X21,Y21)
  axxu22(U21,V21) -> u22(U21,V21)
  axxu31(W21,P21) -> u31(W21,P21)
  axxu32(X22,Y22) -> u32(X22,Y22)
  axxu41(U22,V22,W22) -> u41(U22,V22,W22)
  axxu42(P22,X23,Y23) -> u42(P22,X23,Y23)
  axxhead(U23) -> head(U23)
  axxafterNth(V23,W23) -> afterNth(V23,W23)
  axxu51(P23,X24) -> u51(P23,X24)
  axxu52(Y24,U24) -> u52(Y24,U24)
  axxu61(V24,W24,P24,X25) -> u61(V24,W24,P24,X25)
  axxu62(Y25,U25,V25,W25) -> u62(Y25,U25,V25,W25)
  axxu63(P25,X26,Y26,U26) -> u63(P25,X26,Y26,U26)
  axxu64(V26,W26) -> u64(V26,W26)
  axxu71(P26,X27) -> u71(P26,X27)
  axxu72(Y27,U27) -> u72(Y27,U27)
  axxu81(V27,W27,P27) -> u81(V27,W27,P27)
  axxu82(X28,Y28,U28) -> u82(X28,Y28,U28)
  axxfst(V28) -> fst(V28)
  axxnatsFrom(W28) -> natsFrom(W28)
  axxsel(P28,X29) -> sel(P28,X29)
  axxtail(Y29) -> tail(Y29)
  axxtake(U29,V29) -> take(U29,V29)
  map(I29,nil) -> nil
  map(J29,cons(X30,Y30)) -> cons(J29[X30],map(J29,Y30))
  app(G30,V30) -> G30[V30])